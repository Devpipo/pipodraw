contactForm.addEventListener('submit', function(e) {\n    e.preventDefault();\n    let isValid = true;\n    const formData = new FormData(this);\n    document.querySelectorAll('.error-message').forEach(error => error.classList.add('hidden'));\n    const requiredFields = ['inquiry_type', 'first_name', 'last_name', 'email', 'message'];\n    requiredFields.forEach(fieldName => {\n        const field = document.querySelector(`[name="${fieldName}"]`);\n        const errorMessage = field.closest('div').querySelector('.error-message') || field.closest('.space-y-6').querySelector('.error-message');\n        if (!formData.get(fieldName) || formData.get(fieldName).trim() === '') {\n            if (errorMessage) errorMessage.classList.remove('hidden');\n            isValid = false;\n        }\n    });\n    const email = formData.get('email');\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (email && !emailRegex.test(email)) {\n        const emailError = document.querySelector('#email').closest('div').querySelector('.error-message');\n        if (emailError) {\n            emailError.textContent = 'Veuillez saisir une adresse email valide.';\n            emailError.classList.remove('hidden');\n        }\n        isValid = false;\n    }\n    const privacyConsent = document.querySelector('#privacy_consent');\n    if (!privacyConsent.checked) {\n        const privacyError = privacyConsent.closest('div').nextElementSibling;\n        if (privacyError && privacyError.classList.contains('error-message')) privacyError.classList.remove('hidden');\n        isValid = false;\n    }\n    if (isValid) {\n        const submitButton = this.querySelector('button[type="submit"]');\n        const originalText = submitButton.innerHTML;\n        submitButton.innerHTML = `<svg class=\"animate-spin -ml-1 mr-3 h-5 w-5 text-primary\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"><circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle><path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path></svg>Envoi en cours...`;\n        submitButton.disabled = true;\n        // Création de l'objet JSON\n        const data = {};\n        formData.forEach((value, key) => data[key] = value);\n        fetch('/api/contact', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(data)\n        }).then(async res => {\n            if (res.ok) {\n                contactForm.classList.add('hidden');\n                successMessage.classList.remove('hidden');\n                successMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });\n            } else {\n                const error = await res.text();\n                submitButton.innerHTML = originalText;\n                submitButton.disabled = false;\n                alert('Erreur lors de l\'envoi : ' + error);\n            }\n        }).catch(err => {\n            submitButton.innerHTML = originalText;\n            submitButton.disabled = false;\n            alert('Erreur réseau : ' + err);\n        });\n    }\n});\n